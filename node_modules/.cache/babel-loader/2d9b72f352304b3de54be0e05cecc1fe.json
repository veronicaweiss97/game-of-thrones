{"ast":null,"code":"import _regeneratorRuntime from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar GotService =\n/*#__PURE__*/\nfunction () {\n  function GotService() {\n    var _this = this;\n\n    _classCallCheck(this, GotService);\n\n    this.getResource =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(_this._apiBase).concat(url));\n\n              case 2:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n\n              case 5:\n                _context.next = 7;\n                return res.json();\n\n              case 7:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.getAllBooks =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this.getResource(\"/books/\");\n\n            case 2:\n              res = _context2.sent;\n              return _context2.abrupt(\"return\", res.map(_this._transformBook));\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    this._transformCharacter = function (char) {\n      return {\n        name: _this.isSet(char.name),\n        gender: _this.isSet(char.gender),\n        born: _this.isSet(char.born),\n        died: _this.isSet(char.died),\n        culture: _this.isSet(char.culture)\n      };\n    };\n\n    this._transformHouse = function (house) {\n      return {\n        name: _this.isSet(house.name),\n        region: _this.isSet(house.region),\n        words: _this.isSet(house.words),\n        titles: _this.isSet(house.titles),\n        ancestralWeapons: _this.isSet(house.ancestralWeapons)\n      };\n    };\n\n    this._transformBook = function (book) {\n      return {\n        name: _this.isSet(book.name),\n        numberOfPages: _this.isSet(book.numberOfPages),\n        publisher: _this.isSet(book.publisher),\n        released: _this.isSet(book.released)\n      };\n    };\n\n    this._apiBase = \"https://www.anapioficeandfire.com/api\";\n  }\n\n  _createClass(GotService, [{\n    key: \"getBook\",\n    value: function () {\n      var _getBook = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var book;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getResource(\"/books/\".concat(id, \"/\"));\n\n              case 2:\n                book = _context3.sent;\n                return _context3.abrupt(\"return\", this._transformBook(book));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getBook(_x2) {\n        return _getBook.apply(this, arguments);\n      }\n\n      return getBook;\n    }()\n  }, {\n    key: \"getAllCharacters\",\n    value: function () {\n      var _getAllCharacters = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.getResource(\"/characters?page=5&pageSize=10\");\n\n              case 2:\n                res = _context4.sent;\n                return _context4.abrupt(\"return\", res.map(this._transformCharacter));\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getAllCharacters() {\n        return _getAllCharacters.apply(this, arguments);\n      }\n\n      return getAllCharacters;\n    }()\n  }, {\n    key: \"getCharacter\",\n    value: function () {\n      var _getCharacter = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(id) {\n        var character;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.getResource(\"/characters/\".concat(id));\n\n              case 2:\n                character = _context5.sent;\n                return _context5.abrupt(\"return\", this._transformCharacter(character));\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getCharacter(_x3) {\n        return _getCharacter.apply(this, arguments);\n      }\n\n      return getCharacter;\n    }()\n  }, {\n    key: \"getAllHouses\",\n    value: function () {\n      var _getAllHouses = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.getResource(\"/houses/\");\n\n              case 2:\n                res = _context6.sent;\n                return _context6.abrupt(\"return\", res.map(this._transformHouse));\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getAllHouses() {\n        return _getAllHouses.apply(this, arguments);\n      }\n\n      return getAllHouses;\n    }()\n  }, {\n    key: \"getHouse\",\n    value: function () {\n      var _getHouse = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(id) {\n        var house;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                house = this.getResource(\"/houses/\".concat(id, \"/\"));\n                return _context7.abrupt(\"return\", this._transformHouse(house));\n\n              case 2:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getHouse(_x4) {\n        return _getHouse.apply(this, arguments);\n      }\n\n      return getHouse;\n    }()\n  }, {\n    key: \"isSet\",\n    value: function isSet(data) {\n      if (data) {\n        return data;\n      } else {\n        return \"no data :(\";\n      }\n    }\n  }]);\n\n  return GotService;\n}();\n\nexport { GotService as default };","map":{"version":3,"sources":["/Users/veronica/Desktop/React_step_6/src/services/gotService.js"],"names":["GotService","getResource","url","fetch","_apiBase","res","ok","Error","status","json","getAllBooks","map","_transformBook","_transformCharacter","char","name","isSet","gender","born","died","culture","_transformHouse","house","region","words","titles","ancestralWeapons","book","numberOfPages","publisher","released","id","character","data"],"mappings":"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","sourcesContent":["export default class GotService {\n    constructor() {\n      this._apiBase = \"https://www.anapioficeandfire.com/api\";\n    }\n  \n    getResource = async (url) => {\n      const res = await fetch(`${this._apiBase}${url}`);\n  \n      if (!res.ok) {\n        throw new Error(`Could not fetch ${url}` + `, received ${res.status}`);\n      }\n      return await res.json();\n    }\n  \n    getAllBooks = async () => {\n      const res = await this.getResource(`/books/`);\n      return res.map(this._transformBook);\n    }\n  \n    async getBook(id) {\n      const book = await this.getResource(`/books/${id}/`);\n      return this._transformBook(book);\n    }\n  \n    async getAllCharacters() {\n      const res = await this.getResource(`/characters?page=5&pageSize=10`);\n      return res.map(this._transformCharacter);\n    }\n  \n    async getCharacter(id) {\n      const character = await this.getResource(`/characters/${id}`);\n      return this._transformCharacter(character);\n    }\n  \n    async getAllHouses() {\n      const res = await this.getResource(`/houses/`);\n      return res.map(this._transformHouse);\n    }\n  \n    async getHouse(id) {\n      const house = this.getResource(`/houses/${id}/`);\n      return this._transformHouse(house);\n    }\n  \n    isSet(data) {\n      if (data) {\n        return data;\n      } else {\n        return \"no data :(\";\n      }\n    }\n  \n    _transformCharacter = char => {\n      return {\n        name: this.isSet(char.name),\n        gender: this.isSet(char.gender),\n        born: this.isSet(char.born),\n        died: this.isSet(char.died),\n        culture: this.isSet(char.culture)\n      };\n    };\n  \n    _transformHouse = house => {\n      return {\n        name: this.isSet(house.name),\n        region: this.isSet(house.region),\n        words: this.isSet(house.words),\n        titles: this.isSet(house.titles),\n        ancestralWeapons: this.isSet(house.ancestralWeapons)\n      };\n    };\n  \n    _transformBook = book => {\n      return {\n        name: this.isSet(book.name),\n        numberOfPages: this.isSet(book.numberOfPages),\n        publisher: this.isSet(book.publisher),\n        released: this.isSet(book.released)\n      };\n    };\n  }\n"]},"metadata":{},"sourceType":"module"}