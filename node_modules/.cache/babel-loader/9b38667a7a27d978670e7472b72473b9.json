{"ast":null,"code":"import _regeneratorRuntime from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar GotService =\n/*#__PURE__*/\nfunction () {\n  function GotService() {\n    var _this = this;\n\n    _classCallCheck(this, GotService);\n\n    this.getResource =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(_this._apiBase).concat(url));\n\n              case 2:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n\n              case 5:\n                _context.next = 7;\n                return res.json();\n\n              case 7:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.getAllBooks =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this.getResource(\"/books/\");\n\n            case 2:\n              res = _context2.sent;\n              return _context2.abrupt(\"return\", res.map(_this._transformBook));\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    this.getBook =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var book;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this.getResource(\"/books/\".concat(id, \"/\"));\n\n              case 2:\n                book = _context3.sent;\n                return _context3.abrupt(\"return\", _this._transformBook(book));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    this.getAllCharacters =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee4() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _this.getResource(\"/characters?page=5&pageSize=10\");\n\n            case 2:\n              res = _context4.sent;\n              return _context4.abrupt(\"return\", res.map(_this._transformCharacter));\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    this.getCharacter =\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(id) {\n        var character;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return _this.getResource(\"/characters/\".concat(id));\n\n              case 2:\n                character = _context5.sent;\n                return _context5.abrupt(\"return\", _this._transformCharacter(character));\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      return function (_x3) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    this.getAllHouses =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee6() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _this.getResource(\"/houses/\");\n\n            case 2:\n              res = _context6.sent;\n              return _context6.abrupt(\"return\", res.map(_this._transformHouse));\n\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    }));\n\n    this.getHouse =\n    /*#__PURE__*/\n    function () {\n      var _ref7 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(id) {\n        var house;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                house = _this.getResource(\"/houses/\".concat(id, \"/\"));\n                return _context7.abrupt(\"return\", _this._transformHouse(house));\n\n              case 2:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      return function (_x4) {\n        return _ref7.apply(this, arguments);\n      };\n    }();\n\n    this._transformCharacter = function (char) {\n      return {\n        name: _this.isSet(char.name),\n        gender: _this.isSet(char.gender),\n        born: _this.isSet(char.born),\n        died: _this.isSet(char.died),\n        culture: _this.isSet(char.culture)\n      };\n    };\n\n    this._transformHouse = function (house) {\n      return {\n        name: _this.isSet(house.name),\n        region: _this.isSet(house.region),\n        words: _this.isSet(house.words),\n        titles: _this.isSet(house.titles),\n        ancestralWeapons: _this.isSet(house.ancestralWeapons)\n      };\n    };\n\n    this._transformBook = function (book) {\n      return {\n        name: _this.isSet(book.name),\n        numberOfPages: _this.isSet(book.numberOfPages),\n        publisher: _this.isSet(book.publisher),\n        released: _this.isSet(book.released)\n      };\n    };\n\n    this._apiBase = \"https://www.anapioficeandfire.com/api\";\n  }\n\n  _createClass(GotService, [{\n    key: \"isSet\",\n    value: function isSet(data) {\n      if (data) {\n        return data;\n      } else {\n        return \"no data :(\";\n      }\n    }\n  }]);\n\n  return GotService;\n}();\n\nexport { GotService as default };","map":{"version":3,"sources":["/Users/veronica/Desktop/React_step_6/src/services/gotService.js"],"names":["GotService","getResource","url","fetch","_apiBase","res","ok","Error","status","json","getAllBooks","map","_transformBook","getBook","id","book","getAllCharacters","_transformCharacter","getCharacter","character","getAllHouses","_transformHouse","getHouse","house","char","name","isSet","gender","born","died","culture","region","words","titles","ancestralWeapons","numberOfPages","publisher","released","data"],"mappings":"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","sourcesContent":["export default class GotService {\n    constructor() {\n      this._apiBase = \"https://www.anapioficeandfire.com/api\";\n    }\n  \n    getResource = async (url) => {\n      const res = await fetch(`${this._apiBase}${url}`);\n  \n      if (!res.ok) {\n        throw new Error(`Could not fetch ${url}` + `, received ${res.status}`);\n      }\n      return await res.json();\n    }\n  \n    getAllBooks = async () => {\n      const res = await this.getResource(`/books/`);\n      return res.map(this._transformBook);\n    }\n  \n     getBook = async (id) => {\n      const book = await this.getResource(`/books/${id}/`);\n      return this._transformBook(book);\n    }\n  \n    getAllCharacters =  async () => {\n      const res = await this.getResource(`/characters?page=5&pageSize=10`);\n      return res.map(this._transformCharacter);\n    }\n  \n     getCharacter = async (id) => {\n      const character = await this.getResource(`/characters/${id}`);\n      return this._transformCharacter(character);\n    }\n  \n     getAllHouses = async () => {\n      const res = await this.getResource(`/houses/`);\n      return res.map(this._transformHouse);\n    }\n  \n     getHouse = async (id) => {\n      const house = this.getResource(`/houses/${id}/`);\n      return this._transformHouse(house);\n    }\n  \n    isSet(data) {\n      if (data) {\n        return data;\n      } else {\n        return \"no data :(\";\n      }\n    }\n  \n    _transformCharacter = char => {\n      return {\n        name: this.isSet(char.name),\n        gender: this.isSet(char.gender),\n        born: this.isSet(char.born),\n        died: this.isSet(char.died),\n        culture: this.isSet(char.culture)\n      };\n    };\n  \n    _transformHouse = house => {\n      return {\n        name: this.isSet(house.name),\n        region: this.isSet(house.region),\n        words: this.isSet(house.words),\n        titles: this.isSet(house.titles),\n        ancestralWeapons: this.isSet(house.ancestralWeapons)\n      };\n    };\n  \n    _transformBook = book => {\n      return {\n        name: this.isSet(book.name),\n        numberOfPages: this.isSet(book.numberOfPages),\n        publisher: this.isSet(book.publisher),\n        released: this.isSet(book.released)\n      };\n    };\n  }\n"]},"metadata":{},"sourceType":"module"}