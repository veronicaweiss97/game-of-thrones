{"ast":null,"code":"import _regeneratorRuntime from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar GotService =\n/*#__PURE__*/\nfunction () {\n  function GotService() {\n    var _this = this;\n\n    _classCallCheck(this, GotService);\n\n    this._transformCharacter = function (char) {\n      return {\n        id: _this._extractId(char),\n        name: _this.isSet(char.name),\n        gender: _this.isSet(char.gender),\n        born: _this.isSet(char.born),\n        died: _this.isSet(char.died),\n        culture: _this.isSet(char.culture)\n      };\n    };\n\n    this._transformHouse = function (house) {\n      return {\n        id: _this._extractId(house),\n        name: _this.isSet(house.name),\n        region: _this.isSet(house.region),\n        words: _this.isSet(house.words),\n        titles: _this.isSet(house.titles),\n        ancestralWeapons: _this.isSet(house.ancestralWeapons)\n      };\n    };\n\n    this._transformBook = function (book) {\n      return {\n        id: _this._extractId(book),\n        name: _this.isSet(book.name),\n        numberOfPages: _this.isSet(book.numberOfPages),\n        publisher: _this.isSet(book.publisher),\n        released: _this.isSet(book.released)\n      };\n    };\n\n    this._apiBase = \"https://www.anapioficeandfire.com/api\";\n  }\n\n  _createClass(GotService, [{\n    key: \"getResource\",\n    value: function () {\n      var _getResource = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(this._apiBase).concat(url));\n\n              case 2:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n\n              case 5:\n                _context.next = 7;\n                return res.json();\n\n              case 7:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getResource(_x) {\n        return _getResource.apply(this, arguments);\n      }\n\n      return getResource;\n    }()\n  }, {\n    key: \"getAllBooks\",\n    value: function () {\n      var _getAllBooks = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getResource(\"/books/\");\n\n              case 2:\n                res = _context2.sent;\n                return _context2.abrupt(\"return\", res.map(this._transformBook));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getAllBooks() {\n        return _getAllBooks.apply(this, arguments);\n      }\n\n      return getAllBooks;\n    }()\n  }, {\n    key: \"getBook\",\n    value: function () {\n      var _getBook = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var book;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getResource(\"/books/\".concat(id, \"/\"));\n\n              case 2:\n                book = _context3.sent;\n                return _context3.abrupt(\"return\", this._transformBook(book));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getBook(_x2) {\n        return _getBook.apply(this, arguments);\n      }\n\n      return getBook;\n    }()\n  }, {\n    key: \"getAllCharacters\",\n    value: function () {\n      var _getAllCharacters = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.getResource(\"/characters?page=5&pageSize=10\");\n\n              case 2:\n                res = _context4.sent;\n                return _context4.abrupt(\"return\", res.map(this._transformCharacter));\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getAllCharacters() {\n        return _getAllCharacters.apply(this, arguments);\n      }\n\n      return getAllCharacters;\n    }()\n  }, {\n    key: \"getCharacter\",\n    value: function () {\n      var _getCharacter = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(id) {\n        var character;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.getResource(\"/characters/\".concat(id));\n\n              case 2:\n                character = _context5.sent;\n                return _context5.abrupt(\"return\", this._transformCharacter(character));\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getCharacter(_x3) {\n        return _getCharacter.apply(this, arguments);\n      }\n\n      return getCharacter;\n    }()\n  }, {\n    key: \"getAllHouses\",\n    value: function () {\n      var _getAllHouses = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.getResource(\"/houses/\");\n\n              case 2:\n                res = _context6.sent;\n                return _context6.abrupt(\"return\", res.map(this._transformHouse));\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getAllHouses() {\n        return _getAllHouses.apply(this, arguments);\n      }\n\n      return getAllHouses;\n    }()\n  }, {\n    key: \"getHouse\",\n    value: function () {\n      var _getHouse = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(id) {\n        var house;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                house = this.getResource(\"/houses/\".concat(id, \"/\"));\n                return _context7.abrupt(\"return\", this._transformHouse(house));\n\n              case 2:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getHouse(_x4) {\n        return _getHouse.apply(this, arguments);\n      }\n\n      return getHouse;\n    }()\n  }, {\n    key: \"isSet\",\n    value: function isSet(data) {\n      if (data) {\n        return data;\n      } else {\n        return \"no data :(\";\n      }\n    }\n  }]);\n\n  return GotService;\n}();\n\nexport { GotService as default };","map":{"version":3,"sources":["/Users/veronica/Desktop/React_step_6/src/services/gotService.js"],"names":["GotService","_transformCharacter","char","id","_extractId","name","isSet","gender","born","died","culture","_transformHouse","house","region","words","titles","ancestralWeapons","_transformBook","book","numberOfPages","publisher","released","_apiBase","url","fetch","res","ok","Error","status","json","getResource","map","character","data"],"mappings":"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","sourcesContent":["export default class GotService {\n    constructor() {\n      this._apiBase = \"https://www.anapioficeandfire.com/api\";\n    }\n  \n    async getResource(url) {\n      const res = await fetch(`${this._apiBase}${url}`);\n  \n      if (!res.ok) {\n        throw new Error(`Could not fetch ${url}` + `, received ${res.status}`);\n      }\n      return await res.json();\n    }\n  \n    async getAllBooks() {\n      const res = await this.getResource(`/books/`);\n      return res.map(this._transformBook);\n    }\n  \n    async getBook(id) {\n      const book = await this.getResource(`/books/${id}/`);\n      return this._transformBook(book);\n    }\n  \n    async getAllCharacters() {\n      const res = await this.getResource(`/characters?page=5&pageSize=10`);\n      return res.map(this._transformCharacter);\n    }\n  \n    async getCharacter(id) {\n      const character = await this.getResource(`/characters/${id}`);\n      return this._transformCharacter(character);\n    }\n  \n    async getAllHouses() {\n      const res = await this.getResource(`/houses/`);\n      return res.map(this._transformHouse);\n    }\n  \n    async getHouse(id) {\n      const house = this.getResource(`/houses/${id}/`);\n      return this._transformHouse(house);\n    }\n  \n    isSet(data) {\n      if (data) {\n        return data;\n      } else {\n        return \"no data :(\";\n      }\n    }\n  \n    _transformCharacter = char => {\n      return {\n        id: this._extractId(char),\n        name: this.isSet(char.name),\n        gender: this.isSet(char.gender),\n        born: this.isSet(char.born),\n        died: this.isSet(char.died),\n        culture: this.isSet(char.culture)\n      };\n    };\n  \n    _transformHouse = house => {\n      return {\n        id: this._extractId(house),\n        name: this.isSet(house.name),\n        region: this.isSet(house.region),\n        words: this.isSet(house.words),\n        titles: this.isSet(house.titles),\n        ancestralWeapons: this.isSet(house.ancestralWeapons)\n      };\n    };\n  \n    _transformBook = book => {\n      return {\n        id: this._extractId(book),\n        name: this.isSet(book.name),\n        numberOfPages: this.isSet(book.numberOfPages),\n        publisher: this.isSet(book.publisher),\n        released: this.isSet(book.released)\n      };\n    };\n  }\n"]},"metadata":{},"sourceType":"module"}