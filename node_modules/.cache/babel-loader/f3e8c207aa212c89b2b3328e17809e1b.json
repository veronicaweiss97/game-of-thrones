{"ast":null,"code":"import _regeneratorRuntime from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/veronica/Desktop/React_step_6/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar GotService =\n/*#__PURE__*/\nfunction () {\n  function GotService() {\n    var _this = this;\n\n    _classCallCheck(this, GotService);\n\n    this.getResource =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(_this._apiBase).concat(url));\n\n              case 2:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n\n              case 5:\n                _context.next = 7;\n                return res.json();\n\n              case 7:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this._apiBase = 'https://www.anapioficeandfire.com/api';\n  }\n\n  _createClass(GotService, [{\n    key: \"getAllBooks\",\n    value: function getAllBooks() {\n      return this.getResource(\"/books/\");\n    }\n  }, {\n    key: \"getBook\",\n    value: function getBook(id) {\n      return this.getResource(\"/books/\".concat(id, \"/\"));\n    }\n  }, {\n    key: \"getAllCharacters\",\n    value: function () {\n      var _getAllCharacters = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getResource(\"/characters?page=5&pageSize=10\");\n\n              case 2:\n                res = _context2.sent;\n                return _context2.abrupt(\"return\", res.map(this._transformCHaracter));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getAllCharacters() {\n        return _getAllCharacters.apply(this, arguments);\n      }\n\n      return getAllCharacters;\n    }()\n  }, {\n    key: \"getCharacter\",\n    value: function getCharacter(id) {\n      return this.getResource(\"/characters/\".concat(id));\n    }\n  }, {\n    key: \"getAllHouses\",\n    value: function getAllHouses() {\n      return this.getResource(\"/houses/\");\n    }\n  }, {\n    key: \"getHouse\",\n    value: function getHouse(id) {\n      return this.getResource(\"/houses/\".concat(id, \"/\"));\n    }\n  }, {\n    key: \"_transformCHaracter\",\n    value: function _transformCHaracter(char) {\n      return {\n        name: char.name,\n        gender: char.gender,\n        born: char.born,\n        died: char.died,\n        culture: char.culture\n      };\n    }\n  }]);\n\n  return GotService;\n}();\n\nexport { GotService as default };","map":{"version":3,"sources":["/Users/veronica/Desktop/React_step_6/src/services/gotService.js"],"names":["GotService","getResource","url","fetch","_apiBase","res","ok","Error","status","json","id","map","_transformCHaracter","char","name","gender","born","died","culture"],"mappings":";;;;;IACqBA,U;;;AACjB,wBAAc;AAAA;;AAAA;;AAAA,SAIdC,WAJc;AAAA;AAAA;AAAA;AAAA;AAAA,+BAIA,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACQC,KAAK,WAAI,KAAI,CAACC,QAAT,SAAoBF,GAApB,EADb;;AAAA;AACJG,gBAAAA,GADI;;AAAA,oBAGLA,GAAG,CAACC,EAHC;AAAA;AAAA;AAAA;;AAAA,sBAIF,IAAIC,KAAJ,CAAU,0BAAmBL,GAAnB,yBACAG,GAAG,CAACG,MADJ,CAAV,CAJE;;AAAA;AAAA;AAAA,uBAOGH,GAAG,CAACI,IAAJ,EAPH;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAJA;;AAAA;AAAA;AAAA;AAAA;;AACV,SAAKL,QAAL,GAAgB,uCAAhB;AACH;;;;kCAYa;AACV,aAAO,KAAKH,WAAL,WAAP;AACH;;;4BAEOS,E,EAAI;AACR,aAAO,KAAKT,WAAL,kBAA2BS,EAA3B,OAAP;AACH;;;;;;;;;;;;;uBAGqB,KAAKT,WAAL,kC;;;AAAZI,gBAAAA,G;kDACCA,GAAG,CAACM,GAAJ,CAAQ,KAAKC,mBAAb,C;;;;;;;;;;;;;;;;;;iCAGGF,E,EAAI;AACd,aAAO,KAAKT,WAAL,uBAAgCS,EAAhC,EAAP;AACH;;;mCAEc;AACX,aAAO,KAAKT,WAAL,YAAP;AACH;;;6BAEQS,E,EAAI;AACT,aAAO,KAAKT,WAAL,mBAA4BS,EAA5B,OAAP;AACH;;;wCAEmBG,I,EAAM;AACtB,aAAO;AACHC,QAAAA,IAAI,EAAED,IAAI,CAACC,IADR;AAEHC,QAAAA,MAAM,EAAEF,IAAI,CAACE,MAFV;AAGHC,QAAAA,IAAI,EAAEH,IAAI,CAACG,IAHR;AAIHC,QAAAA,IAAI,EAAEJ,IAAI,CAACI,IAJR;AAKHC,QAAAA,OAAO,EAAEL,IAAI,CAACK;AALX,OAAP;AAOH;;;;;;SAhDgBlB,U","sourcesContent":["\nexport default class GotService {\n    constructor() {\n        this._apiBase = 'https://www.anapioficeandfire.com/api';\n    }\n\n    getResource = async (url) => {\n        const res = await fetch(`${this._apiBase}${url}`);\n    \n        if (!res.ok) {\n          throw new Error(`Could not fetch ${url}` +\n            `, received ${res.status}`);\n        }\n        return await res.json();\n    }\n\n    getAllBooks() {\n        return this.getResource(`/books/`);\n    }\n    \n    getBook(id) {\n        return this.getResource(`/books/${id}/`);\n    }\n    \n    async getAllCharacters() {\n        const res = await this.getResource(`/characters?page=5&pageSize=10`);\n        return res.map(this._transformCHaracter)\n    }\n    \n    getCharacter (id) {\n        return this.getResource(`/characters/${id}`);\n    }\n    \n    getAllHouses() {\n        return this.getResource(`/houses/`);\n    }\n    \n    getHouse(id) {\n        return this.getResource(`/houses/${id}/`);\n    }\n\n    _transformCHaracter(char) {\n        return {\n            name: char.name,\n            gender: char.gender,\n            born: char.born,\n            died: char.died,\n            culture: char.culture\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}